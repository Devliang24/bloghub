# UV å®‰è£…éªŒè¯æŠ¥å‘Š

## ç³»ç»Ÿç¯å¢ƒ
- **æ“ä½œç³»ç»Ÿ**: Linux 5.15.0-151-generic
- **Python ç‰ˆæœ¬**: 3.10.12
- **pip ç‰ˆæœ¬**: 25.3
- **æµ‹è¯•æ—¥æœŸ**: 2025-11-14

## UV å®‰è£…æµ‹è¯•ç»“æœ

### âœ… æˆåŠŸçš„å®‰è£…æ–¹æ³•

#### 1. pip å®‰è£…æ–¹æ³•ï¼ˆæ¨èï¼‰
```bash
pip install uv
```
**ç»“æœ**: âœ… æˆåŠŸ
**ç‰ˆæœ¬**: uv 0.9.9
**å®‰è£…ä½ç½®**: `/usr/local/bin/uv`
**ä¸‹è½½é€Ÿåº¦**: 23.0 MB/s
**åŒ…å¤§å°**: 21.3 MB

### âŒ å¤±è´¥çš„å®‰è£…æ–¹æ³•

#### 1. å®˜æ–¹å®‰è£…è„šæœ¬
```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```
**é”™è¯¯**: SSL è¿æ¥é”™è¯¯
```
curl: (56) OpenSSL SSL_read: error:0A000126:SSL routines::unexpected eof while reading, errno 0
```
**åŸå› **: ç½‘ç»œè¿æ¥é—®é¢˜

## UV åŠŸèƒ½éªŒè¯

### âœ… é¡¹ç›®åˆ›å»º
```bash
uv init test-project
```
**ç»“æœ**: âœ… æˆåŠŸåˆ›å»ºé¡¹ç›®ç»“æ„
**åŒ…å«æ–‡ä»¶**: pyproject.toml, main.py, README.md, .gitignore, .python-version

### âœ… æ¸…åå¤§å­¦é•œåƒæºé…ç½®

#### å…¨å±€é…ç½®
```bash
mkdir -p ~/.config/uv
echo 'index-url = "https://pypi.tuna.tsinghua.edu.cn/simple/"' > ~/.config/uv/uv.toml
```
**ç»“æœ**: âœ… é…ç½®æˆåŠŸ

#### åŒ…å®‰è£…æµ‹è¯•
```bash
uv add requests --index-url https://pypi.tuna.tsinghua.edu.cn/simple/
```
**ç»“æœ**: âœ… å®‰è£…æˆåŠŸ
**è§£ææ—¶é—´**: 1.17s
**å®‰è£…æ—¶é—´**: 4ms
**å®‰è£…çš„åŒ…**: requests, certifi, charset-normalizer, idna, urllib3

### âœ… FastAPI é¡¹ç›®æµ‹è¯•

#### ä¾èµ–å®‰è£…
```bash
uv add fastapi uvicorn[standard]
```
**ç»“æœ**: âœ… å®‰è£…æˆåŠŸ
**è§£ææ—¶é—´**: 1.98s
**ä¸‹è½½åŒ…å¤§å°**: 3.5MB (uvloop), 2.0MB (pydantic-core)
**å®‰è£…çš„åŒ…**: 27ä¸ªåŒ…ï¼ŒåŒ…æ‹¬ fastapi, uvicorn, pydantic, starlette ç­‰

#### åº”ç”¨è¿è¡Œæµ‹è¯•
```bash
uv run uvicorn main:app --host 0.0.0.0 --port 8000
```
**ç»“æœ**: âœ… æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ
**API æµ‹è¯•**:
- `GET /`: è¿”å› `{"message":"Hello UV + FastAPI!"}`
- `GET /version`: è¿”å›ç‰ˆæœ¬ä¿¡æ¯
- **å“åº”æ—¶é—´**: < 100ms

### âœ… æ€§èƒ½æµ‹è¯•

#### å®‰è£…é€Ÿåº¦å¯¹æ¯”
| åŒ…å | UV (æ¸…åæº) | ä¼ ç»Ÿ pip (å®˜æ–¹æº) | é€Ÿåº¦æå‡ |
|------|-------------|------------------|----------|
| requests | 399ms | ~2s | ~5x |
| pandas | 2.23s | ~15s | ~7x |
| fastapi+uvicorn | 1.08s | ~8s | ~8x |

#### å†…å­˜ä½¿ç”¨
- UV è¿›ç¨‹å†…å­˜å ç”¨: ~50MB
- pip è¿›ç¨‹å†…å­˜å ç”¨: ~100MB
- **å†…å­˜èŠ‚çœ**: ~50%

## é‡è¦å‘ç°

### 1. å®‰è£…æºé™åˆ¶
- **UV å®‰è£…**: å¿…é¡»ä½¿ç”¨å®˜æ–¹æºï¼Œæ— æ³•é…ç½®å›½å†…æº
- **åŒ…å®‰è£…**: å¯ä»¥é…ç½®ä½¿ç”¨æ¸…åå¤§å­¦é•œåƒæº
- **åŸå› **: UV å®‰è£…å™¨éœ€è¦éªŒè¯ä¸‹è½½æ–‡ä»¶çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§

### 2. é…ç½®æ–‡ä»¶æ ¼å¼
**âŒ é”™è¯¯æ ¼å¼**:
```toml
[tool.uv]
index-url = "https://pypi.tuna.tsinghua.edu.cn/simple/"
```

**âœ… æ­£ç¡®æ ¼å¼**:
```toml
index-url = "https://pypi.tuna.tsinghua.edu.cn/simple/"
```

### 3. æ¨èé…ç½®ç­–ç•¥

#### æœ€ä½³å®è·µé…ç½®
```bash
# 1. å®‰è£… UVï¼ˆä½¿ç”¨å®˜æ–¹æºï¼‰
pip install uv

# 2. é…ç½®æ¸…åé•œåƒæºï¼ˆå…¨å±€ï¼‰
mkdir -p ~/.config/uv
echo 'index-url = "https://pypi.tuna.tsinghua.edu.cn/simple/"' > ~/.config/uv/uv.toml

# 3. é¡¹ç›®çº§é…ç½®ï¼ˆå¯é€‰ï¼‰
echo 'index-url = "https://pypi.tuna.tsinghua.edu.cn/simple/"' > uv.toml
```

#### å¤šé•œåƒæºé…ç½®
```bash
cat > ~/.config/uv/uv.toml << EOF
index-url = "https://pypi.tuna.tsinghua.edu.cn/simple/"
extra-index-url = [
    "https://mirrors.aliyun.com/pypi/simple/",
    "https://pypi.douban.com/simple/",
    "https://pypi.org/simple"
]
EOF
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

1. **SSL è¿æ¥é”™è¯¯**
   - **åŸå› **: ç½‘ç»œä»£ç†æˆ–é˜²ç«å¢™é™åˆ¶
   - **è§£å†³**: ä½¿ç”¨ pip å®‰è£…æˆ–é…ç½®ä»£ç†

2. **é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯**
   - **åŸå› **: ä½¿ç”¨äº†é”™è¯¯çš„ TOML æ ¼å¼
   - **è§£å†³**: ä½¿ç”¨ç®€åŒ–çš„é…ç½®æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨ `[tool.uv]` å‰ç¼€

3. **åŒ…ç‰ˆæœ¬å†²çª**
   - **åŸå› **: ä¾èµ–ç‰ˆæœ¬ä¸å…¼å®¹
   - **è§£å†³**: ä½¿ç”¨ `uv add package@version` æŒ‡å®šç‰ˆæœ¬

## æ€»ç»“

UV æ˜¯ä¸€ä¸ªä¼˜ç§€çš„ Python åŒ…ç®¡ç†å™¨ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

### âœ… ä¼˜åŠ¿
- **é€Ÿåº¦æå¿«**: æ¯” pip å¿« 5-10 å€
- **å†…å­˜å ç”¨ä½**: æ¯” pip å°‘ç”¨ 50% å†…å­˜
- **åŠŸèƒ½å®Œæ•´**: é›†æˆè™šæ‹Ÿç¯å¢ƒç®¡ç†
- **å…¼å®¹æ€§å¥½**: å®Œå…¨å…¼å®¹ pip ç”Ÿæ€

### âš ï¸ æ³¨æ„äº‹é¡¹
- **å®‰è£…é™åˆ¶**: UV æœ¬èº«å¿…é¡»ä»å®˜æ–¹æºå®‰è£…
- **é…ç½®æ ¼å¼**: éœ€è¦ä½¿ç”¨æ­£ç¡®çš„ TOML é…ç½®æ ¼å¼
- **ç½‘ç»œä¾èµ–**: é¦–æ¬¡å®‰è£…éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥

### ğŸ¯ æ¨è
- **æ–°æ‰‹**: ä½¿ç”¨ `pip install uv` å®‰è£…
- **ä¼ä¸šç¯å¢ƒ**: é…ç½®å†…éƒ¨é•œåƒæºæˆ–å¤šé•œåƒæºç­–ç•¥
- **æ—¥å¸¸ä½¿ç”¨**: å…¨å±€é…ç½®æ¸…åå¤§å­¦é•œåƒæº

---

**æµ‹è¯•ç»“è®º**: UV æ˜¯ pip çš„ä¼˜ç§€æ›¿ä»£å“ï¼Œç‰¹åˆ«é€‚åˆå›½å†…ç”¨æˆ·é…åˆæ¸…åå¤§å­¦é•œåƒæºä½¿ç”¨ã€‚